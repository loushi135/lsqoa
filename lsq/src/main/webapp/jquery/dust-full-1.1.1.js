var dust={};function getGlobal(){return(function(){return this.dust}).call(null)}(function(dust){dust.cache={};dust.register=function(name,tmpl){if(!name){return}dust.cache[name]=tmpl};dust.render=function(name,context,callback){var chunk=new Stub(callback).head;dust.load(name,chunk,Context.wrap(context)).end()};dust.stream=function(name,context){var stream=new Stream();dust.nextTick(function(){dust.load(name,stream.head,Context.wrap(context)).end()});return stream};dust.renderSource=function(source,context,callback){return dust.compileFn(source)(context,callback)};dust.compileFn=function(source,name){var tmpl=dust.loadSource(dust.compile(source,name));return function(context,callback){var master=callback?new Stub(callback):new Stream();dust.nextTick(function(){tmpl(master.head,Context.wrap(context)).end()});return master}};dust.load=function(name,chunk,context){var tmpl=dust.cache[name];if(tmpl){return tmpl(chunk,context)}else{if(dust.onLoad){return chunk.map(function(chunk){dust.onLoad(name,function(err,src){if(err){return chunk.setError(err)}if(!dust.cache[name]){dust.loadSource(dust.compile(src,name))}dust.cache[name](chunk,context).end()})})}return chunk.setError(new Error("Template Not Found: "+name))}};dust.loadSource=function(source,path){return eval(source)};if(Array.isArray){dust.isArray=Array.isArray}else{dust.isArray=function(arr){return Object.prototype.toString.call(arr)=="[object Array]"}}dust.nextTick=(function(){if(typeof process!=="undefined"){return process.nextTick}else{return function(callback){setTimeout(callback,0)}}})();dust.isEmpty=function(value){if(dust.isArray(value)&&!value.length){return true}if(value===0){return false}return(!value)};dust.filter=function(string,auto,filters){if(filters){for(var i=0,len=filters.length;i<len;i++){var name=filters[i];if(name==="s"){auto=null}else{if(typeof dust.filters[name]==="function"){string=dust.filters[name](string)}}}}if(auto){string=dust.filters[auto](string)}return string};dust.filters={h:function(value){return dust.escapeHtml(value)},j:function(value){return dust.escapeJs(value)},u:encodeURI,uc:encodeURIComponent,js:function(value){if(!JSON){return value}return JSON.stringify(value)},jp:function(value){if(!JSON){return value}return JSON.parse(value)}};function Context(stack,global,blocks){this.stack=stack;this.global=global;this.blocks=blocks}dust.makeBase=function(global){return new Context(new Stack(),global)};Context.wrap=function(context){if(context instanceof Context){return context}return new Context(new Stack(context))};Context.prototype.get=function(key){var ctx=this.stack,value;while(ctx){if(ctx.isObject){value=ctx.head[key];if(!(value===undefined)){return value}}ctx=ctx.tail}return this.global?this.global[key]:undefined};Context.prototype.getPath=function(cur,down){var ctx=this.stack,len=down.length;if(cur&&len===0){return ctx.head}ctx=ctx.head;var i=0;while(ctx&&i<len){ctx=ctx[down[i]];i++}return ctx};Context.prototype.push=function(head,idx,len){return new Context(new Stack(head,this.stack,idx,len),this.global,this.blocks)};Context.prototype.rebase=function(head){return new Context(new Stack(head),this.global,this.blocks)};Context.prototype.current=function(){return this.stack.head};Context.prototype.getBlock=function(key,chk,ctx){if(typeof key==="function"){key=key(chk,ctx).data;chk.data=""}var blocks=this.blocks;if(!blocks){return}var len=blocks.length,fn;while(len--){fn=blocks[len][key];if(fn){return fn}}};Context.prototype.shiftBlocks=function(locals){var blocks=this.blocks,newBlocks;if(locals){if(!blocks){newBlocks=[locals]}else{newBlocks=blocks.concat([locals])}return new Context(this.stack,this.global,newBlocks)}return this};function Stack(head,tail,idx,len){this.tail=tail;this.isObject=!dust.isArray(head)&&head&&typeof head==="object";this.head=head;this.index=idx;this.of=len}function Stub(callback){this.head=new Chunk(this);this.callback=callback;this.out=""}Stub.prototype.flush=function(){var chunk=this.head;while(chunk){if(chunk.flushable){this.out+=chunk.data}else{if(chunk.error){this.callback(chunk.error);this.flush=function(){};return}else{return}}chunk=chunk.next;this.head=chunk}this.callback(null,this.out)};function Stream(){this.head=new Chunk(this)}Stream.prototype.flush=function(){var chunk=this.head;while(chunk){if(chunk.flushable){this.emit("data",chunk.data)}else{if(chunk.error){this.emit("error",chunk.error);this.flush=function(){};return}else{return}}chunk=chunk.next;this.head=chunk}this.emit("end")};Stream.prototype.emit=function(type,data){if(!this.events){return false}var handler=this.events[type];if(!handler){return false}if(typeof handler=="function"){handler(data)}else{var listeners=handler.slice(0);for(var i=0,l=listeners.length;i<l;i++){listeners[i](data)}}};Stream.prototype.on=function(type,callback){if(!this.events){this.events={}}if(!this.events[type]){this.events[type]=callback}else{if(typeof this.events[type]==="function"){this.events[type]=[this.events[type],callback]}else{this.events[type].push(callback)}}return this};Stream.prototype.pipe=function(stream){this.on("data",function(data){stream.write(data,"utf8")}).on("end",function(){stream.end()}).on("error",function(err){stream.error(err)});return this};function Chunk(root,next,taps){this.root=root;this.next=next;this.data="";this.flushable=false;this.taps=taps}Chunk.prototype.write=function(data){var taps=this.taps;if(taps){data=taps.go(data)}this.data+=data;return this};Chunk.prototype.end=function(data){if(data){this.write(data)}this.flushable=true;this.root.flush();return this};Chunk.prototype.map=function(callback){var cursor=new Chunk(this.root,this.next,this.taps),branch=new Chunk(this.root,cursor,this.taps);this.next=branch;this.flushable=true;callback(branch);return cursor};Chunk.prototype.tap=function(tap){var taps=this.taps;if(taps){this.taps=taps.push(tap)}else{this.taps=new Tap(tap)}return this};Chunk.prototype.untap=function(){this.taps=this.taps.tail;return this};Chunk.prototype.render=function(body,context){return body(this,context)};Chunk.prototype.reference=function(elem,context,auto,filters){if(typeof elem==="function"){elem.isFunction=true;elem=elem.apply(context.current(),[this,context,null,{auto:auto,filters:filters}]);if(elem instanceof Chunk){return elem}}if(!dust.isEmpty(elem)){return this.write(dust.filter(elem,auto,filters))}else{return this}};Chunk.prototype.section=function(elem,context,bodies,params){if(typeof elem==="function"){elem=elem.apply(context.current(),[this,context,bodies,params]);if(elem instanceof Chunk){return elem}}var body=bodies.block,skip=bodies["else"];if(params){context=context.push(params)}if(dust.isArray(elem)){if(body){var len=elem.length,chunk=this;if(len>0){if(context.stack.head){context.stack.head["$len"]=len}for(var i=0;i<len;i++){if(context.stack.head){context.stack.head["$idx"]=i}chunk=body(chunk,context.push(elem[i],i,len))}if(context.stack.head){context.stack.head["$idx"]=undefined;context.stack.head["$len"]=undefined}return chunk}else{if(skip){return skip(this,context)}}}}else{if(elem===true){if(body){return body(this,context)}}else{if(elem||elem===0){if(body){if(context.stack.head&&typeof elem==="object"){context.stack.head["$idx"]=0;context.stack.head["$len"]=1}chunk=body(this,context.push(elem));if(context.stack.head&&typeof elem==="object"){context.stack.head["$idx"]=undefined;context.stack.head["$len"]=undefined}return chunk}}else{if(skip){return skip(this,context)}}}}return this};Chunk.prototype.exists=function(elem,context,bodies){var body=bodies.block,skip=bodies["else"];if(!dust.isEmpty(elem)){if(body){return body(this,context)}}else{if(skip){return skip(this,context)}}return this};Chunk.prototype.notexists=function(elem,context,bodies){var body=bodies.block,skip=bodies["else"];if(dust.isEmpty(elem)){if(body){return body(this,context)}}else{if(skip){return skip(this,context)}}return this};Chunk.prototype.block=function(elem,context,bodies){var body=bodies.block;if(elem){body=elem}if(body){return body(this,context)}return this};Chunk.prototype.partial=function(elem,context,params){var partialContext;if(params){partialContext=dust.makeBase(context.global);partialContext.blocks=context.blocks;if(context.stack&&context.stack.tail){partialContext.stack=context.stack.tail}partialContext=partialContext.push(params);partialContext=partialContext.push(context.stack.head)}else{partialContext=context}if(typeof elem==="function"){return this.capture(elem,partialContext,function(name,chunk){dust.load(name,chunk,partialContext).end()})}return dust.load(elem,this,partialContext)};Chunk.prototype.helper=function(name,context,bodies,params){if(dust.helpers[name]){return dust.helpers[name](this,context,bodies,params)}};Chunk.prototype.capture=function(body,context,callback){return this.map(function(chunk){var stub=new Stub(function(err,out){if(err){chunk.setError(err)}else{callback(out,chunk)}});body(stub.head,context).end()})};Chunk.prototype.setError=function(err){this.error=err;this.root.flush();return this};function Tap(head,tail){this.head=head;this.tail=tail}Tap.prototype.push=function(tap){return new Tap(tap,this)};Tap.prototype.go=function(value){var tap=this;while(tap){value=tap.head(value);tap=tap.tail}return value};var HCHARS=new RegExp(/[&<>\"\']/),AMP=/&/g,LT=/</g,GT=/>/g,QUOT=/\"/g,SQUOT=/\'/g;dust.escapeHtml=function(s){if(typeof s==="string"){if(!HCHARS.test(s)){return s}return s.replace(AMP,"&amp;").replace(LT,"&lt;").replace(GT,"&gt;").replace(QUOT,"&quot;").replace(SQUOT,"&#39;")}return s};var BS=/\\/g,CR=/\r/g,LS=/\u2028/g,PS=/\u2029/g,NL=/\n/g,LF=/\f/g,SQ=/'/g,DQ=/"/g,TB=/\t/g;dust.escapeJs=function(s){if(typeof s==="string"){return s.replace(BS,"\\\\").replace(DQ,'\\"').replace(SQ,"\\'").replace(CR,"\\r").replace(LS,"\\u2028").replace(PS,"\\u2029").replace(NL,"\\n").replace(LF,"\\f").replace(TB,"\\t")}return s}})(dust);if(typeof exports!=="undefined"){if(typeof process!=="undefined"){require("./server")(dust)}module.exports=dust}(function(H){H.compile=function(Q,O){try{var P=E(H.parse(Q));return J(P,O)}catch(R){if(!R.line||!R.column){throw R}throw new SyntaxError(R.message+" At line : "+R.line+", column : "+R.column)}};function E(P){var O={};return H.filterNode(O,P)}H.filterNode=function(O,P){return H.optimizers[P[0]](O,P)};H.optimizers={body:B,buffer:L,special:N,format:D,reference:F,"#":F,"?":F,"^":F,"<":F,"+":F,"@":F,"%":F,partial:F,context:F,params:F,bodies:F,param:F,filters:L,key:L,path:L,literal:L,comment:D};H.pragmas={esc:function(O,Q,S,R){var P=O.auto;if(!Q){Q="h"}O.auto=(Q==="s")?"":Q;var T=C(O,S.block);O.auto=P;return T}};function F(Q,T){var O=[T[0]];for(var S=1,P=T.length;S<P;S++){var R=H.filterNode(Q,T[S]);if(R){O.push(R)}}return O}function B(Q,U){var O=[U[0]],R;for(var T=1,P=U.length;T<P;T++){var S=H.filterNode(Q,U[T]);if(S){if(S[0]==="buffer"){if(R){R[1]+=S[1]}else{R=S;O.push(S)}}else{R=null;O.push(S)}}}return O}var I={"s":" ","n":"\n","r":"\r","lb":"{","rb":"}"};function N(O,P){return["buffer",I[P[1]]]}function L(O,P){return P}function D(){}function J(Q,O){var P={name:O,bodies:[],blocks:{},index:0,auto:"h"};return"(function(){dust.register("+(O?'"'+O+'"':"null")+","+H.compileNode(P,Q)+");"+K(P)+A(P)+"return body_0;})();"}function K(R){var O=[],Q=R.blocks;for(var P in Q){O.push("'"+P+"':"+Q[P])}if(O.length){R.blocks="ctx=ctx.shiftBlocks(blocks);";return"var blocks={"+O.join(",")+"};"}return R.blocks=""}function A(R){var O=[],S=R.bodies,P=R.blocks;for(var Q=0,T=S.length;Q<T;Q++){O[Q]="function body_"+Q+"(chk,ctx){"+P+"return chk"+S[Q]+";}"}return O.join("")}function C(Q,O){var R="";for(var P=1,S=O.length;P<S;P++){R+=H.compileNode(Q,O[P])}return R}H.compileNode=function(O,P){return H.nodes[P[0]](O,P)};H.nodes={body:function(P,R){var Q=P.index++,O="body_"+Q;P.bodies[Q]=C(P,R);return O},buffer:function(O,P){return".write("+G(P[1])+")"},format:function(O,P){return".write("+G(P[1]+P[2])+")"},reference:function(O,P){return".reference("+H.compileNode(O,P[1])+",ctx,"+H.compileNode(O,P[2])+")"},"#":function(O,P){return M(O,P,"section")},"?":function(O,P){return M(O,P,"exists")},"^":function(O,P){return M(O,P,"notexists")},"<":function(Q,U){var T=U[4];for(var P=1,O=T.length;P<O;P++){var S=T[P],R=S[1][1];if(R==="block"){Q.blocks[U[1].text]=H.compileNode(Q,S[2]);return""}}return""},"+":function(O,P){if(typeof(P[1].text)==="undefined"&&typeof(P[4])==="undefined"){return".block(ctx.getBlock("+H.compileNode(O,P[1])+",chk, ctx),"+H.compileNode(O,P[2])+", {},"+H.compileNode(O,P[3])+")"}else{return".block(ctx.getBlock("+G(P[1].text)+"),"+H.compileNode(O,P[2])+","+H.compileNode(O,P[4])+","+H.compileNode(O,P[3])+")"}},"@":function(O,P){return".helper("+G(P[1].text)+","+H.compileNode(O,P[2])+","+H.compileNode(O,P[4])+","+H.compileNode(O,P[3])+")"},"%":function(O,P){var U=P[1][1];if(!H.pragmas[U]){return""}var S=P[4];var W={};for(var X=1,Y=S.length;X<Y;X++){var T=S[X];W[T[1][1]]=T[2]}var Z=P[3];var R={};for(var X=1,Y=Z.length;X<Y;X++){var V=Z[X];R[V[1][1]]=V[2][1]}var Q=P[2][1]?P[2][1].text:null;return H.pragmas[U](O,Q,W,R)},partial:function(O,P){return".partial("+H.compileNode(O,P[1])+","+H.compileNode(O,P[2])+","+H.compileNode(O,P[3])+")"},context:function(O,P){if(P[1]){return"ctx.rebase("+H.compileNode(O,P[1])+")"}return"ctx"},params:function(Q,S){var O=[];for(var R=1,P=S.length;R<P;R++){O.push(H.compileNode(Q,S[R]))}if(O.length){return"{"+O.join(",")+"}"}return"null"},bodies:function(Q,S){var O=[];for(var R=1,P=S.length;R<P;R++){O.push(H.compileNode(Q,S[R]))}return"{"+O.join(",")+"}"},param:function(O,P){return H.compileNode(O,P[1])+":"+H.compileNode(O,P[2])},filters:function(Q,T){var P=[];for(var R=1,O=T.length;R<O;R++){var S=T[R];P.push('"'+S+'"')}return'"'+Q.auto+'"'+(P.length?",["+P.join(",")+"]":"")},key:function(O,P){return'ctx.get("'+P[1]+'")'},path:function(S,U){var P=U[1],R=U[2],Q=[];for(var T=0,O=R.length;T<O;T++){Q.push('"'+R[T]+'"')}return"ctx.getPath("+P+",["+Q.join(",")+"])"},literal:function(O,P){return G(P[1])}};function M(O,Q,P){return"."+P+"("+H.compileNode(O,Q[1])+","+H.compileNode(O,Q[2])+","+H.compileNode(O,Q[4])+","+H.compileNode(O,Q[3])+")"}var G=(typeof JSON==="undefined")?function(O){return'"'+H.escapeJs(O)+'"'}:JSON.stringify})(typeof exports!=="undefined"?exports:getGlobal());(function(A){var B=(function(){function D(E){return'"'+E.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var C={parse:function(s,F){var x={"body":k,"part":e,"section":j,"sec_tag_start":g,"end_tag":l,"context":Z,"params":b,"bodies":J,"reference":X,"partial":a,"filters":t,"special":P,"identifier":y,"number":f,"frac":L,"integer":d,"path":u,"key":m,"array":Y,"array_part":K,"inline":Q,"inline_part":N,"buffer":o,"literal":q,"esc":U,"comment":i,"tag":S,"ld":T,"rd":R,"eol":O,"ws":E};if(F!==undefined){if(x[F]===undefined){throw new Error("Invalid rule name: "+D(F)+".")}}else{F="body"}var c={offset:0,line:1,column:1,seenCR:false};var v=0;var p={offset:0,line:1,column:1,seenCR:false};var r=[];function G(Ad,Ac,Af){var Aa=Ad;var Ab=Af-Ad.length;for(var Ae=0;Ae<Ab;Ae++){Aa=Ac+Aa}return Aa}function w(Ad){var Ab=Ad.charCodeAt(0);var Ac;var Aa;if(Ab<=255){Ac="x";Aa=2}else{Ac="u";Aa=4}return"\\"+Ac+G(Ab.toString(16).toUpperCase(),"0",Aa)}function H(Ac){var Ab={};for(var Aa in Ac){Ab[Aa]=Ac[Aa]}return Ab}function V(Ac,Aa){var Ab=Ac.offset+Aa;for(var Ad=Ac.offset;Ad<Ab;Ad++){var Ae=s.charAt(Ad);if(Ae==="\n"){if(!Ac.seenCR){Ac.line++}Ac.column=1;Ac.seenCR=false}else{if(Ae==="\r"||Ae==="\u2028"||Ae==="\u2029"){Ac.line++;Ac.column=1;Ac.seenCR=true}else{Ac.column++;Ac.seenCR=false}}}Ac.offset+=Aa}function M(Aa){if(c.offset<p.offset){return}if(c.offset>p.offset){p=H(c);r=[]}r.push(Aa)}function k(){var Ac,Ab;var Aa;Aa=H(c);Ac=[];Ab=e();while(Ab!==null){Ac.push(Ab);Ab=e()}if(Ac!==null){Ac=(function(Ae,Ad,Ag,Af){return["body"].concat(Af)})(Aa.offset,Aa.line,Aa.column,Ac)}if(Ac===null){c=H(Aa)}return Ac}function e(){var Aa;Aa=i();if(Aa===null){Aa=j();if(Aa===null){Aa=a();if(Aa===null){Aa=P();if(Aa===null){Aa=X();if(Aa===null){Aa=o()}}}}}return Aa}function j(){var Ae,Ag,Ab,Af,Ah,Aa,Ac;var Ai,Ad;v++;Ai=H(c);Ad=H(c);Ae=g();if(Ae!==null){Ag=[];Ab=E();while(Ab!==null){Ag.push(Ab);Ab=E()}if(Ag!==null){Ab=R();if(Ab!==null){Af=k();if(Af!==null){Ah=J();if(Ah!==null){Aa=l();if(Aa!==null){Ac=(function(Ao,Am,Ap,Ak,Al,An,Aj){return Ak[1].text===Aj.text})(c.offset,c.line,c.column,Ae,Af,Ah,Aa)?"":null;if(Ac!==null){Ae=[Ae,Ag,Ab,Af,Ah,Aa,Ac]}else{Ae=null;c=H(Ad)}}else{Ae=null;c=H(Ad)}}else{Ae=null;c=H(Ad)}}else{Ae=null;c=H(Ad)}}else{Ae=null;c=H(Ad)}}else{Ae=null;c=H(Ad)}}else{Ae=null;c=H(Ad)}if(Ae!==null){Ae=(function(Ao,Am,Ap,Ak,Al,An,Aj){An.push(["param",["literal","block"],Al]);Ak.push(An);return Ak})(Ai.offset,Ai.line,Ai.column,Ae[0],Ae[3],Ae[4],Ae[5])}if(Ae===null){c=H(Ai)}if(Ae===null){Ai=H(c);Ad=H(c);Ae=g();if(Ae!==null){Ag=[];Ab=E();while(Ab!==null){Ag.push(Ab);Ab=E()}if(Ag!==null){if(s.charCodeAt(c.offset)===47){Ab="/";V(c,1)}else{Ab=null;if(v===0){M('"/"')}}if(Ab!==null){Af=R();if(Af!==null){Ae=[Ae,Ag,Ab,Af]}else{Ae=null;c=H(Ad)}}else{Ae=null;c=H(Ad)}}else{Ae=null;c=H(Ad)}}else{Ae=null;c=H(Ad)}if(Ae!==null){Ae=(function(Al,Ak,Am,Aj){Aj.push(["bodies"]);return Aj})(Ai.offset,Ai.line,Ai.column,Ae[0])}if(Ae===null){c=H(Ai)}}v--;if(v===0&&Ae===null){M("section")}return Ae}function g(){var Ad,Af,Ab,Ae,Ag,Aa;var Ac,Ah;Ac=H(c);Ah=H(c);Ad=T();if(Ad!==null){if(/^[#?^<+@%]/.test(s.charAt(c.offset))){Af=s.charAt(c.offset);V(c,1)}else{Af=null;if(v===0){M("[#?^<+@%]")}}if(Af!==null){Ab=[];Ae=E();while(Ae!==null){Ab.push(Ae);Ae=E()}if(Ab!==null){Ae=y();if(Ae!==null){Ag=Z();if(Ag!==null){Aa=b();if(Aa!==null){Ad=[Ad,Af,Ab,Ae,Ag,Aa]}else{Ad=null;c=H(Ah)}}else{Ad=null;c=H(Ah)}}else{Ad=null;c=H(Ah)}}else{Ad=null;c=H(Ah)}}else{Ad=null;c=H(Ah)}}else{Ad=null;c=H(Ah)}if(Ad!==null){Ad=(function(Am,Al,Ao,Aj,Ai,Ak,An){return[Aj,Ai,Ak,An]})(Ac.offset,Ac.line,Ac.column,Ad[1],Ad[3],Ad[4],Ad[5])}if(Ad===null){c=H(Ac)}return Ad}function l(){var Ad,Af,Ab,Ae,Ag,Aa;var Ac,Ah;v++;Ac=H(c);Ah=H(c);Ad=T();if(Ad!==null){if(s.charCodeAt(c.offset)===47){Af="/";V(c,1)}else{Af=null;if(v===0){M('"/"')}}if(Af!==null){Ab=[];Ae=E();while(Ae!==null){Ab.push(Ae);Ae=E()}if(Ab!==null){Ae=y();if(Ae!==null){Ag=[];Aa=E();while(Aa!==null){Ag.push(Aa);Aa=E()}if(Ag!==null){Aa=R();if(Aa!==null){Ad=[Ad,Af,Ab,Ae,Ag,Aa]}else{Ad=null;c=H(Ah)}}else{Ad=null;c=H(Ah)}}else{Ad=null;c=H(Ah)}}else{Ad=null;c=H(Ah)}}else{Ad=null;c=H(Ah)}}else{Ad=null;c=H(Ah)}if(Ad!==null){Ad=(function(Ak,Aj,Al,Ai){return Ai})(Ac.offset,Ac.line,Ac.column,Ad[3])}if(Ad===null){c=H(Ac)}v--;if(v===0&&Ad===null){M("end tag")}return Ad}function Z(){var Ae,Ac;var Ab,Aa,Ad;Ab=H(c);Aa=H(c);Ad=H(c);if(s.charCodeAt(c.offset)===58){Ae=":";V(c,1)}else{Ae=null;if(v===0){M('":"')}}if(Ae!==null){Ac=y();if(Ac!==null){Ae=[Ae,Ac]}else{Ae=null;c=H(Ad)}}else{Ae=null;c=H(Ad)}if(Ae!==null){Ae=(function(Ah,Ag,Ai,Af){return Af})(Aa.offset,Aa.line,Aa.column,Ae[1])}if(Ae===null){c=H(Aa)}Ae=Ae!==null?Ae:"";if(Ae!==null){Ae=(function(Ah,Ag,Ai,Af){return Af?["context",Af]:["context"]})(Ab.offset,Ab.line,Ab.column,Ae)}if(Ae===null){c=H(Ab)}return Ae}function b(){var Ac,Ae,Aa,Ad,Af;var Ab,Ag,Ah;v++;Ab=H(c);Ac=[];Ag=H(c);Ah=H(c);Aa=E();if(Aa!==null){Ae=[];while(Aa!==null){Ae.push(Aa);Aa=E()}}else{Ae=null}if(Ae!==null){Aa=m();if(Aa!==null){if(s.charCodeAt(c.offset)===61){Ad="=";V(c,1)}else{Ad=null;if(v===0){M('"="')}}if(Ad!==null){Af=f();if(Af===null){Af=y();if(Af===null){Af=Q()}}if(Af!==null){Ae=[Ae,Aa,Ad,Af]}else{Ae=null;c=H(Ah)}}else{Ae=null;c=H(Ah)}}else{Ae=null;c=H(Ah)}}else{Ae=null;c=H(Ah)}if(Ae!==null){Ae=(function(Ak,Aj,Am,Al,Ai){return["param",["literal",Al],Ai]})(Ag.offset,Ag.line,Ag.column,Ae[1],Ae[3])}if(Ae===null){c=H(Ag)}while(Ae!==null){Ac.push(Ae);Ag=H(c);Ah=H(c);Aa=E();if(Aa!==null){Ae=[];while(Aa!==null){Ae.push(Aa);Aa=E()}}else{Ae=null}if(Ae!==null){Aa=m();if(Aa!==null){if(s.charCodeAt(c.offset)===61){Ad="=";V(c,1)}else{Ad=null;if(v===0){M('"="')}}if(Ad!==null){Af=f();if(Af===null){Af=y();if(Af===null){Af=Q()}}if(Af!==null){Ae=[Ae,Aa,Ad,Af]}else{Ae=null;c=H(Ah)}}else{Ae=null;c=H(Ah)}}else{Ae=null;c=H(Ah)}}else{Ae=null;c=H(Ah)}if(Ae!==null){Ae=(function(Ak,Aj,Am,Al,Ai){return["param",["literal",Al],Ai]})(Ag.offset,Ag.line,Ag.column,Ae[1],Ae[3])}if(Ae===null){c=H(Ag)}}if(Ac!==null){Ac=(function(Aj,Ai,Al,Ak){return["params"].concat(Ak)})(Ab.offset,Ab.line,Ab.column,Ac)}if(Ac===null){c=H(Ab)}v--;if(v===0&&Ac===null){M("params")}return Ac}function J(){var Ad,Af,Ab,Ae,Ag,Aa;var Ac,Ah,Ai;v++;Ac=H(c);Ad=[];Ah=H(c);Ai=H(c);Af=T();if(Af!==null){if(s.charCodeAt(c.offset)===58){Ab=":";V(c,1)}else{Ab=null;if(v===0){M('":"')}}if(Ab!==null){Ae=m();if(Ae!==null){Ag=R();if(Ag!==null){Aa=k();if(Aa!==null){Af=[Af,Ab,Ae,Ag,Aa]}else{Af=null;c=H(Ai)}}else{Af=null;c=H(Ai)}}else{Af=null;c=H(Ai)}}else{Af=null;c=H(Ai)}}else{Af=null;c=H(Ai)}if(Af!==null){Af=(function(Al,Ak,An,Am,Aj){return["param",["literal",Am],Aj]})(Ah.offset,Ah.line,Ah.column,Af[2],Af[4])}if(Af===null){c=H(Ah)}while(Af!==null){Ad.push(Af);Ah=H(c);Ai=H(c);Af=T();if(Af!==null){if(s.charCodeAt(c.offset)===58){Ab=":";V(c,1)}else{Ab=null;if(v===0){M('":"')}}if(Ab!==null){Ae=m();if(Ae!==null){Ag=R();if(Ag!==null){Aa=k();if(Aa!==null){Af=[Af,Ab,Ae,Ag,Aa]}else{Af=null;c=H(Ai)}}else{Af=null;c=H(Ai)}}else{Af=null;c=H(Ai)}}else{Af=null;c=H(Ai)}}else{Af=null;c=H(Ai)}if(Af!==null){Af=(function(Al,Ak,An,Am,Aj){return["param",["literal",Am],Aj]})(Ah.offset,Ah.line,Ah.column,Af[2],Af[4])}if(Af===null){c=H(Ah)}}if(Ad!==null){Ad=(function(Ak,Aj,Am,Al){return["bodies"].concat(Al)})(Ac.offset,Ac.line,Ac.column,Ad)}if(Ad===null){c=H(Ac)}v--;if(v===0&&Ad===null){M("bodies")}return Ad}function X(){var Af,Ae,Ac,Aa;var Ad,Ab;v++;Ad=H(c);Ab=H(c);Af=T();if(Af!==null){Ae=y();if(Ae!==null){Ac=t();if(Ac!==null){Aa=R();if(Aa!==null){Af=[Af,Ae,Ac,Aa]}else{Af=null;c=H(Ab)}}else{Af=null;c=H(Ab)}}else{Af=null;c=H(Ab)}}else{Af=null;c=H(Ab)}if(Af!==null){Af=(function(Ai,Ah,Ak,Ag,Aj){return["reference",Ag,Aj]})(Ad.offset,Ad.line,Ad.column,Af[1],Af[2])}if(Af===null){c=H(Ad)}v--;if(v===0&&Af===null){M("reference")}return Af}function a(){var Af,Ah,Ac,Ag,Ai,Ab,Ad,Aa;var Aj,Ae,Ak;v++;Aj=H(c);Ae=H(c);Af=T();if(Af!==null){if(s.charCodeAt(c.offset)===62){Ah=">";V(c,1)}else{Ah=null;if(v===0){M('">"')}}if(Ah===null){if(s.charCodeAt(c.offset)===43){Ah="+";V(c,1)}else{Ah=null;if(v===0){M('"+"')}}}if(Ah!==null){Ak=H(c);Ac=m();if(Ac!==null){Ac=(function(Am,Al,Ao,An){return["literal",An]})(Ak.offset,Ak.line,Ak.column,Ac)}if(Ac===null){c=H(Ak)}if(Ac===null){Ac=Q()}if(Ac!==null){Ag=Z();if(Ag!==null){Ai=b();if(Ai!==null){Ab=[];Ad=E();while(Ad!==null){Ab.push(Ad);Ad=E()}if(Ab!==null){if(s.charCodeAt(c.offset)===47){Ad="/";V(c,1)}else{Ad=null;if(v===0){M('"/"')}}if(Ad!==null){Aa=R();if(Aa!==null){Af=[Af,Ah,Ac,Ag,Ai,Ab,Ad,Aa]}else{Af=null;c=H(Ae)}}else{Af=null;c=H(Ae)}}else{Af=null;c=H(Ae)}}else{Af=null;c=H(Ae)}}else{Af=null;c=H(Ae)}}else{Af=null;c=H(Ae)}}else{Af=null;c=H(Ae)}}else{Af=null;c=H(Ae)}if(Af!==null){Af=(function(As,Am,Ap,Ar,Ao,Al,Aq){var An=(Ar===">")?"partial":Ar;return[An,Ao,Al,Aq]})(Aj.offset,Aj.line,Aj.column,Af[1],Af[2],Af[3],Af[4])}if(Af===null){c=H(Aj)}v--;if(v===0&&Af===null){M("partial")}return Af}function t(){var Af,Ad,Ab;var Ac,Aa,Ae;v++;Ac=H(c);Af=[];Aa=H(c);Ae=H(c);if(s.charCodeAt(c.offset)===124){Ad="|";V(c,1)}else{Ad=null;if(v===0){M('"|"')}}if(Ad!==null){Ab=m();if(Ab!==null){Ad=[Ad,Ab]}else{Ad=null;c=H(Ae)}}else{Ad=null;c=H(Ae)}if(Ad!==null){Ad=(function(Ai,Ah,Aj,Ag){return Ag})(Aa.offset,Aa.line,Aa.column,Ad[1])}if(Ad===null){c=H(Aa)}while(Ad!==null){Af.push(Ad);Aa=H(c);Ae=H(c);if(s.charCodeAt(c.offset)===124){Ad="|";V(c,1)}else{Ad=null;if(v===0){M('"|"')}}if(Ad!==null){Ab=m();if(Ab!==null){Ad=[Ad,Ab]}else{Ad=null;c=H(Ae)}}else{Ad=null;c=H(Ae)}if(Ad!==null){Ad=(function(Ai,Ah,Aj,Ag){return Ag})(Aa.offset,Aa.line,Aa.column,Ad[1])}if(Ad===null){c=H(Aa)}}if(Af!==null){Af=(function(Ah,Ag,Aj,Ai){return["filters"].concat(Ai)})(Ac.offset,Ac.line,Ac.column,Af)}if(Af===null){c=H(Ac)}v--;if(v===0&&Af===null){M("filters")}return Af}function P(){var Af,Ae,Ac,Aa;var Ad,Ab;v++;Ad=H(c);Ab=H(c);Af=T();if(Af!==null){if(s.charCodeAt(c.offset)===126){Ae="~";V(c,1)}else{Ae=null;if(v===0){M('"~"')}}if(Ae!==null){Ac=m();if(Ac!==null){Aa=R();if(Aa!==null){Af=[Af,Ae,Ac,Aa]}else{Af=null;c=H(Ab)}}else{Af=null;c=H(Ab)}}else{Af=null;c=H(Ab)}}else{Af=null;c=H(Ab)}if(Af!==null){Af=(function(Ah,Ag,Aj,Ai){return["special",Ai]})(Ad.offset,Ad.line,Ad.column,Af[2])}if(Af===null){c=H(Ad)}v--;if(v===0&&Af===null){M("special")}return Af}function y(){var Ab;var Aa;v++;Aa=H(c);Ab=u();if(Ab!==null){Ab=(function(Ae,Ad,Ag,Af){var Ac=["path"].concat(Af);Ac.text=Af[1].join(".");return Ac})(Aa.offset,Aa.line,Aa.column,Ab)}if(Ab===null){c=H(Aa)}if(Ab===null){Aa=H(c);Ab=m();if(Ab!==null){Ab=(function(Ae,Ad,Ag,Af){var Ac=["key",Af];Ac.text=Af;return Ac})(Aa.offset,Aa.line,Aa.column,Ab)}if(Ab===null){c=H(Aa)}}v--;if(v===0&&Ab===null){M("identifier")}return Ab}function f(){var Ab;var Aa;v++;Aa=H(c);Ab=L();if(Ab===null){Ab=d()}if(Ab!==null){Ab=(function(Ae,Ad,Af,Ac){return["literal",Ac]})(Aa.offset,Aa.line,Aa.column,Ab)}if(Ab===null){c=H(Aa)}v--;if(v===0&&Ab===null){M("number")}return Ab}function L(){var Af,Ae,Ac,Aa;var Ad,Ab;v++;Ad=H(c);Ab=H(c);Af=d();if(Af!==null){if(s.charCodeAt(c.offset)===46){Ae=".";V(c,1)}else{Ae=null;if(v===0){M('"."')}}if(Ae!==null){Aa=d();if(Aa!==null){Ac=[];while(Aa!==null){Ac.push(Aa);Aa=d()}}else{Ac=null}if(Ac!==null){Af=[Af,Ae,Ac]}else{Af=null;c=H(Ab)}}else{Af=null;c=H(Ab)}}else{Af=null;c=H(Ab)}if(Af!==null){Af=(function(Aj,Ai,Ak,Ah,Ag){return parseFloat(Ah+"."+Ag.join(""))})(Ad.offset,Ad.line,Ad.column,Af[0],Af[2])}if(Af===null){c=H(Ad)}v--;if(v===0&&Af===null){M("frac")}return Af}function d(){var Ac,Ab;var Aa;v++;Aa=H(c);if(/^[0-9]/.test(s.charAt(c.offset))){Ab=s.charAt(c.offset);V(c,1)}else{Ab=null;if(v===0){M("[0-9]")}}if(Ab!==null){Ac=[];while(Ab!==null){Ac.push(Ab);if(/^[0-9]/.test(s.charAt(c.offset))){Ab=s.charAt(c.offset);V(c,1)}else{Ab=null;if(v===0){M("[0-9]")}}}}else{Ac=null}if(Ac!==null){Ac=(function(Af,Ae,Ag,Ad){return parseInt(Ad.join(""),10)})(Aa.offset,Aa.line,Aa.column,Ac)}if(Ac===null){c=H(Aa)}v--;if(v===0&&Ac===null){M("integer")}return Ac}function u(){var Ae,Ad,Ab;var Ac,Aa;v++;Ac=H(c);Aa=H(c);Ae=m();Ae=Ae!==null?Ae:"";if(Ae!==null){Ab=K();if(Ab===null){Ab=Y()}if(Ab!==null){Ad=[];while(Ab!==null){Ad.push(Ab);Ab=K();if(Ab===null){Ab=Y()}}}else{Ad=null}if(Ad!==null){Ae=[Ae,Ad]}else{Ae=null;c=H(Aa)}}else{Ae=null;c=H(Aa)}if(Ae!==null){Ae=(function(Ah,Af,Aj,Ai,Ag){Ag=Ag[0];if(Ai&&Ag){Ag.unshift(Ai);return[false,Ag]}return[true,Ag]})(Ac.offset,Ac.line,Ac.column,Ae[0],Ae[1])}if(Ae===null){c=H(Ac)}if(Ae===null){Ac=H(c);Aa=H(c);if(s.charCodeAt(c.offset)===46){Ae=".";V(c,1)}else{Ae=null;if(v===0){M('"."')}}if(Ae!==null){Ad=[];Ab=K();if(Ab===null){Ab=Y()}while(Ab!==null){Ad.push(Ab);Ab=K();if(Ab===null){Ab=Y()}}if(Ad!==null){Ae=[Ae,Ad]}else{Ae=null;c=H(Aa)}}else{Ae=null;c=H(Aa)}if(Ae!==null){Ae=(function(Ah,Af,Ai,Ag){if(Ag.length>0){return[true,Ag[0]]}return[true,[]]})(Ac.offset,Ac.line,Ac.column,Ae[1])}if(Ae===null){c=H(Ac)}}v--;if(v===0&&Ae===null){M("path")}return Ae}function m(){var Ae,Ad,Ab;var Ac,Aa;v++;Ac=H(c);Aa=H(c);if(/^[a-zA-Z_$]/.test(s.charAt(c.offset))){Ae=s.charAt(c.offset);V(c,1)}else{Ae=null;if(v===0){M("[a-zA-Z_$]")}}if(Ae!==null){Ad=[];if(/^[0-9a-zA-Z_$\-]/.test(s.charAt(c.offset))){Ab=s.charAt(c.offset);V(c,1)}else{Ab=null;if(v===0){M("[0-9a-zA-Z_$\\-]")}}while(Ab!==null){Ad.push(Ab);if(/^[0-9a-zA-Z_$\-]/.test(s.charAt(c.offset))){Ab=s.charAt(c.offset);V(c,1)}else{Ab=null;if(v===0){M("[0-9a-zA-Z_$\\-]")}}}if(Ad!==null){Ae=[Ae,Ad]}else{Ae=null;c=H(Aa)}}else{Ae=null;c=H(Aa)}if(Ae!==null){Ae=(function(Ah,Ag,Aj,Af,Ai){return Af+Ai.join("")})(Ac.offset,Ac.line,Ac.column,Ae[0],Ae[1])}if(Ae===null){c=H(Ac)}v--;if(v===0&&Ae===null){M("key")}return Ae}function Y(){var Ag,Ae,Ab;var Ad,Aa,Af,Ac;v++;Ad=H(c);Aa=H(c);Af=H(c);Ac=H(c);if(s.charCodeAt(c.offset)===91){Ag="[";V(c,1)}else{Ag=null;if(v===0){M('"["')}}if(Ag!==null){if(/^[0-9]/.test(s.charAt(c.offset))){Ab=s.charAt(c.offset);V(c,1)}else{Ab=null;if(v===0){M("[0-9]")}}if(Ab!==null){Ae=[];while(Ab!==null){Ae.push(Ab);if(/^[0-9]/.test(s.charAt(c.offset))){Ab=s.charAt(c.offset);V(c,1)}else{Ab=null;if(v===0){M("[0-9]")}}}}else{Ae=null}if(Ae!==null){if(s.charCodeAt(c.offset)===93){Ab="]";V(c,1)}else{Ab=null;if(v===0){M('"]"')}}if(Ab!==null){Ag=[Ag,Ae,Ab]}else{Ag=null;c=H(Ac)}}else{Ag=null;c=H(Ac)}}else{Ag=null;c=H(Ac)}if(Ag!==null){Ag=(function(Aj,Ai,Ak,Ah){return Ah.join("")})(Af.offset,Af.line,Af.column,Ag[1])}if(Ag===null){c=H(Af)}if(Ag!==null){Ae=K();Ae=Ae!==null?Ae:"";if(Ae!==null){Ag=[Ag,Ae]}else{Ag=null;c=H(Aa)}}else{Ag=null;c=H(Aa)}if(Ag!==null){Ag=(function(Aj,Ah,Al,Ai,Ak){if(Ak){Ak.unshift(Ai)}else{Ak=[Ai]}return Ak})(Ad.offset,Ad.line,Ad.column,Ag[0],Ag[1])}if(Ag===null){c=H(Ad)}v--;if(v===0&&Ag===null){M("array")}return Ag}function K(){var Ag,Ae,Ab;var Ad,Aa,Af,Ac;v++;Ad=H(c);Aa=H(c);Af=H(c);Ac=H(c);if(s.charCodeAt(c.offset)===46){Ae=".";V(c,1)}else{Ae=null;if(v===0){M('"."')}}if(Ae!==null){Ab=m();if(Ab!==null){Ae=[Ae,Ab]}else{Ae=null;c=H(Ac)}}else{Ae=null;c=H(Ac)}if(Ae!==null){Ae=(function(Ai,Ah,Ak,Aj){return Aj})(Af.offset,Af.line,Af.column,Ae[1])}if(Ae===null){c=H(Af)}if(Ae!==null){Ag=[];while(Ae!==null){Ag.push(Ae);Af=H(c);Ac=H(c);if(s.charCodeAt(c.offset)===46){Ae=".";V(c,1)}else{Ae=null;if(v===0){M('"."')}}if(Ae!==null){Ab=m();if(Ab!==null){Ae=[Ae,Ab]}else{Ae=null;c=H(Ac)}}else{Ae=null;c=H(Ac)}if(Ae!==null){Ae=(function(Ai,Ah,Ak,Aj){return Aj})(Af.offset,Af.line,Af.column,Ae[1])}if(Ae===null){c=H(Af)}}}else{Ag=null}if(Ag!==null){Ae=Y();Ae=Ae!==null?Ae:"";if(Ae!==null){Ag=[Ag,Ae]}else{Ag=null;c=H(Aa)}}else{Ag=null;c=H(Aa)}if(Ag!==null){Ag=(function(Ak,Ai,Al,Aj,Ah){if(Ah){return Aj.concat(Ah)}else{return Aj}})(Ad.offset,Ad.line,Ad.column,Ag[0],Ag[1])}if(Ag===null){c=H(Ad)}v--;if(v===0&&Ag===null){M("array_part")}return Ag}function Q(){var Ae,Ad,Ab;var Ac,Aa;v++;Ac=H(c);Aa=H(c);if(s.charCodeAt(c.offset)===34){Ae='"';V(c,1)}else{Ae=null;if(v===0){M('"\\""')}}if(Ae!==null){if(s.charCodeAt(c.offset)===34){Ad='"';V(c,1)}else{Ad=null;if(v===0){M('"\\""')}}if(Ad!==null){Ae=[Ae,Ad]}else{Ae=null;c=H(Aa)}}else{Ae=null;c=H(Aa)}if(Ae!==null){Ae=(function(Ag,Af,Ah){return["literal",""]})(Ac.offset,Ac.line,Ac.column)}if(Ae===null){c=H(Ac)}if(Ae===null){Ac=H(c);Aa=H(c);if(s.charCodeAt(c.offset)===34){Ae='"';V(c,1)}else{Ae=null;if(v===0){M('"\\""')}}if(Ae!==null){Ad=q();if(Ad!==null){if(s.charCodeAt(c.offset)===34){Ab='"';V(c,1)}else{Ab=null;if(v===0){M('"\\""')}}if(Ab!==null){Ae=[Ae,Ad,Ab]}else{Ae=null;c=H(Aa)}}else{Ae=null;c=H(Aa)}}else{Ae=null;c=H(Aa)}if(Ae!==null){Ae=(function(Ah,Ag,Ai,Af){return["literal",Af]})(Ac.offset,Ac.line,Ac.column,Ae[1])}if(Ae===null){c=H(Ac)}if(Ae===null){Ac=H(c);Aa=H(c);if(s.charCodeAt(c.offset)===34){Ae='"';V(c,1)}else{Ae=null;if(v===0){M('"\\""')}}if(Ae!==null){Ab=N();if(Ab!==null){Ad=[];while(Ab!==null){Ad.push(Ab);Ab=N()}}else{Ad=null}if(Ad!==null){if(s.charCodeAt(c.offset)===34){Ab='"';V(c,1)}else{Ab=null;if(v===0){M('"\\""')}}if(Ab!==null){Ae=[Ae,Ad,Ab]}else{Ae=null;c=H(Aa)}}else{Ae=null;c=H(Aa)}}else{Ae=null;c=H(Aa)}if(Ae!==null){Ae=(function(Ag,Af,Ai,Ah){return["body"].concat(Ah)})(Ac.offset,Ac.line,Ac.column,Ae[1])}if(Ae===null){c=H(Ac)}}}v--;if(v===0&&Ae===null){M("inline")}return Ae}function N(){var Ab;var Aa;Ab=P();if(Ab===null){Ab=X();if(Ab===null){Aa=H(c);Ab=q();if(Ab!==null){Ab=(function(Ae,Ad,Af,Ac){return["buffer",Ac]})(Aa.offset,Aa.line,Aa.column,Ab)}if(Ab===null){c=H(Aa)}}}return Ab}function o(){var Ac,Ae,Aa,Ad,Ag;var Ab,Ah,Ai,Af;v++;Ab=H(c);Ah=H(c);Ac=O();if(Ac!==null){Ae=[];Aa=E();while(Aa!==null){Ae.push(Aa);Aa=E()}if(Ae!==null){Ac=[Ac,Ae]}else{Ac=null;c=H(Ah)}}else{Ac=null;c=H(Ah)}if(Ac!==null){Ac=(function(Am,Al,An,Ak,Aj){return["format",Ak,Aj.join("")]})(Ab.offset,Ab.line,Ab.column,Ac[0],Ac[1])}if(Ac===null){c=H(Ab)}if(Ac===null){Ab=H(c);Ah=H(c);Ai=H(c);Af=H(c);v++;Ae=S();v--;if(Ae===null){Ae=""}else{Ae=null;c=H(Af)}if(Ae!==null){Af=H(c);v++;Aa=O();v--;if(Aa===null){Aa=""}else{Aa=null;c=H(Af)}if(Aa!==null){Af=H(c);v++;Ad=i();v--;if(Ad===null){Ad=""}else{Ad=null;c=H(Af)}if(Ad!==null){if(s.length>c.offset){Ag=s.charAt(c.offset);V(c,1)}else{Ag=null;if(v===0){M("any character")}}if(Ag!==null){Ae=[Ae,Aa,Ad,Ag]}else{Ae=null;c=H(Ai)}}else{Ae=null;c=H(Ai)}}else{Ae=null;c=H(Ai)}}else{Ae=null;c=H(Ai)}if(Ae!==null){Ae=(function(Al,Ak,Am,Aj){return Aj})(Ah.offset,Ah.line,Ah.column,Ae[3])}if(Ae===null){c=H(Ah)}if(Ae!==null){Ac=[];while(Ae!==null){Ac.push(Ae);Ah=H(c);Ai=H(c);Af=H(c);v++;Ae=S();v--;if(Ae===null){Ae=""}else{Ae=null;c=H(Af)}if(Ae!==null){Af=H(c);v++;Aa=O();v--;if(Aa===null){Aa=""}else{Aa=null;c=H(Af)}if(Aa!==null){Af=H(c);v++;Ad=i();v--;if(Ad===null){Ad=""}else{Ad=null;c=H(Af)}if(Ad!==null){if(s.length>c.offset){Ag=s.charAt(c.offset);V(c,1)}else{Ag=null;if(v===0){M("any character")}}if(Ag!==null){Ae=[Ae,Aa,Ad,Ag]}else{Ae=null;c=H(Ai)}}else{Ae=null;c=H(Ai)}}else{Ae=null;c=H(Ai)}}else{Ae=null;c=H(Ai)}if(Ae!==null){Ae=(function(Al,Ak,Am,Aj){return Aj})(Ah.offset,Ah.line,Ah.column,Ae[3])}if(Ae===null){c=H(Ah)}}}else{Ac=null}if(Ac!==null){Ac=(function(Al,Ak,Am,Aj){return["buffer",Aj.join("")]})(Ab.offset,Ab.line,Ab.column,Ac)}if(Ac===null){c=H(Ab)}}v--;if(v===0&&Ac===null){M("buffer")}return Ac}function q(){var Ag,Ae,Ab;var Ad,Aa,Af,Ac;v++;Ad=H(c);Aa=H(c);Af=H(c);Ac=H(c);v++;Ae=S();v--;if(Ae===null){Ae=""}else{Ae=null;c=H(Ac)}if(Ae!==null){Ab=U();if(Ab===null){if(/^[^"]/.test(s.charAt(c.offset))){Ab=s.charAt(c.offset);V(c,1)}else{Ab=null;if(v===0){M('[^"]')}}}if(Ab!==null){Ae=[Ae,Ab]}else{Ae=null;c=H(Af)}}else{Ae=null;c=H(Af)}if(Ae!==null){Ae=(function(Aj,Ai,Ak,Ah){return Ah})(Aa.offset,Aa.line,Aa.column,Ae[1])}if(Ae===null){c=H(Aa)}if(Ae!==null){Ag=[];while(Ae!==null){Ag.push(Ae);Aa=H(c);Af=H(c);Ac=H(c);v++;Ae=S();v--;if(Ae===null){Ae=""}else{Ae=null;c=H(Ac)}if(Ae!==null){Ab=U();if(Ab===null){if(/^[^"]/.test(s.charAt(c.offset))){Ab=s.charAt(c.offset);V(c,1)}else{Ab=null;if(v===0){M('[^"]')}}}if(Ab!==null){Ae=[Ae,Ab]}else{Ae=null;c=H(Af)}}else{Ae=null;c=H(Af)}if(Ae!==null){Ae=(function(Aj,Ai,Ak,Ah){return Ah})(Aa.offset,Aa.line,Aa.column,Ae[1])}if(Ae===null){c=H(Aa)}}}else{Ag=null}if(Ag!==null){Ag=(function(Aj,Ai,Ak,Ah){return Ah.join("")})(Ad.offset,Ad.line,Ad.column,Ag)}if(Ag===null){c=H(Ad)}v--;if(v===0&&Ag===null){M("literal")}return Ag}function U(){var Ab;var Aa;Aa=H(c);if(s.substr(c.offset,2)==='\\"'){Ab='\\"';V(c,2)}else{Ab=null;if(v===0){M('"\\\\\\""')}}if(Ab!==null){Ab=(function(Ad,Ac,Ae){return'"'})(Aa.offset,Aa.line,Aa.column)}if(Ab===null){c=H(Aa)}return Ab}function i(){var Ad,Af,Ai,Ae;var Ac,Ah,Ab,Ag,Aa;v++;Ac=H(c);Ah=H(c);if(s.substr(c.offset,2)==="{!"){Ad="{!";V(c,2)}else{Ad=null;if(v===0){M('"{!"')}}if(Ad!==null){Af=[];Ab=H(c);Ag=H(c);Aa=H(c);v++;if(s.substr(c.offset,2)==="!}"){Ai="!}";V(c,2)}else{Ai=null;if(v===0){M('"!}"')}}v--;if(Ai===null){Ai=""}else{Ai=null;c=H(Aa)}if(Ai!==null){if(s.length>c.offset){Ae=s.charAt(c.offset);V(c,1)}else{Ae=null;if(v===0){M("any character")}}if(Ae!==null){Ai=[Ai,Ae]}else{Ai=null;c=H(Ag)}}else{Ai=null;c=H(Ag)}if(Ai!==null){Ai=(function(Al,Ak,Am,Aj){return Aj})(Ab.offset,Ab.line,Ab.column,Ai[1])}if(Ai===null){c=H(Ab)}while(Ai!==null){Af.push(Ai);Ab=H(c);Ag=H(c);Aa=H(c);v++;if(s.substr(c.offset,2)==="!}"){Ai="!}";V(c,2)}else{Ai=null;if(v===0){M('"!}"')}}v--;if(Ai===null){Ai=""}else{Ai=null;c=H(Aa)}if(Ai!==null){if(s.length>c.offset){Ae=s.charAt(c.offset);V(c,1)}else{Ae=null;if(v===0){M("any character")}}if(Ae!==null){Ai=[Ai,Ae]}else{Ai=null;c=H(Ag)}}else{Ai=null;c=H(Ag)}if(Ai!==null){Ai=(function(Al,Ak,Am,Aj){return Aj})(Ab.offset,Ab.line,Ab.column,Ai[1])}if(Ai===null){c=H(Ab)}}if(Af!==null){if(s.substr(c.offset,2)==="!}"){Ai="!}";V(c,2)}else{Ai=null;if(v===0){M('"!}"')}}if(Ai!==null){Ad=[Ad,Af,Ai]}else{Ad=null;c=H(Ah)}}else{Ad=null;c=H(Ah)}}else{Ad=null;c=H(Ah)}if(Ad!==null){Ad=(function(Al,Ak,Am,Aj){return["comment",Aj.join("")]})(Ac.offset,Ac.line,Ac.column,Ad[1])}if(Ad===null){c=H(Ac)}v--;if(v===0&&Ad===null){M("comment")}return Ad}function S(){var Ae,Ag,Ab,Af,Ah,Aa,Ac;var Ai,Ad,Aj;Ai=H(c);Ae=T();if(Ae!==null){if(/^[#?^><+%:@\/~%]/.test(s.charAt(c.offset))){Ag=s.charAt(c.offset);V(c,1)}else{Ag=null;if(v===0){M("[#?^><+%:@\\/~%]")}}if(Ag!==null){Ab=[];Af=E();while(Af!==null){Ab.push(Af);Af=E()}if(Ab!==null){Ad=H(c);Aj=H(c);v++;Ah=R();v--;if(Ah===null){Ah=""}else{Ah=null;c=H(Aj)}if(Ah!==null){Aj=H(c);v++;Aa=O();v--;if(Aa===null){Aa=""}else{Aa=null;c=H(Aj)}if(Aa!==null){if(s.length>c.offset){Ac=s.charAt(c.offset);V(c,1)}else{Ac=null;if(v===0){M("any character")}}if(Ac!==null){Ah=[Ah,Aa,Ac]}else{Ah=null;c=H(Ad)}}else{Ah=null;c=H(Ad)}}else{Ah=null;c=H(Ad)}if(Ah!==null){Af=[];while(Ah!==null){Af.push(Ah);Ad=H(c);Aj=H(c);v++;Ah=R();v--;if(Ah===null){Ah=""}else{Ah=null;c=H(Aj)}if(Ah!==null){Aj=H(c);v++;Aa=O();v--;if(Aa===null){Aa=""}else{Aa=null;c=H(Aj)}if(Aa!==null){if(s.length>c.offset){Ac=s.charAt(c.offset);V(c,1)}else{Ac=null;if(v===0){M("any character")}}if(Ac!==null){Ah=[Ah,Aa,Ac]}else{Ah=null;c=H(Ad)}}else{Ah=null;c=H(Ad)}}else{Ah=null;c=H(Ad)}}}else{Af=null}if(Af!==null){Ah=[];Aa=E();while(Aa!==null){Ah.push(Aa);Aa=E()}if(Ah!==null){Aa=R();if(Aa!==null){Ae=[Ae,Ag,Ab,Af,Ah,Aa]}else{Ae=null;c=H(Ai)}}else{Ae=null;c=H(Ai)}}else{Ae=null;c=H(Ai)}}else{Ae=null;c=H(Ai)}}else{Ae=null;c=H(Ai)}}else{Ae=null;c=H(Ai)}if(Ae===null){Ae=X()}return Ae}function T(){var Aa;if(s.charCodeAt(c.offset)===123){Aa="{";V(c,1)}else{Aa=null;if(v===0){M('"{"')}}return Aa}function R(){var Aa;if(s.charCodeAt(c.offset)===125){Aa="}";V(c,1)}else{Aa=null;if(v===0){M('"}"')}}return Aa}function O(){var Aa;if(s.charCodeAt(c.offset)===10){Aa="\n";V(c,1)}else{Aa=null;if(v===0){M('"\\n"')}}if(Aa===null){if(s.substr(c.offset,2)==="\r\n"){Aa="\r\n";V(c,2)}else{Aa=null;if(v===0){M('"\\r\\n"')}}if(Aa===null){if(s.charCodeAt(c.offset)===13){Aa="\r";V(c,1)}else{Aa=null;if(v===0){M('"\\r"')}}if(Aa===null){if(s.charCodeAt(c.offset)===8232){Aa="\u2028";V(c,1)}else{Aa=null;if(v===0){M('"\\u2028"')}}if(Aa===null){if(s.charCodeAt(c.offset)===8233){Aa="\u2029";V(c,1)}else{Aa=null;if(v===0){M('"\\u2029"')}}}}}}return Aa}function E(){var Aa;if(/^[\t\x0B\f \xA0\uFEFF]/.test(s.charAt(c.offset))){Aa=s.charAt(c.offset);V(c,1)}else{Aa=null;if(v===0){M("[\\t\\x0B\\f \\xA0\\uFEFF]")}}if(Aa===null){Aa=O()}return Aa}function n(Ad){Ad.sort();var Aa=null;var Ac=[];for(var Ab=0;Ab<Ad.length;Ab++){if(Ad[Ab]!==Aa){Ac.push(Ad[Ab]);Aa=Ad[Ab]}}return Ac}var W=x[F]();if(W===null||c.offset!==s.length){var z=Math.max(c.offset,p.offset);var I=z<s.length?s.charAt(z):null;var h=c.offset>p.offset?c:p;throw new B.SyntaxError(n(r),I,z,h.line,h.column)}return W},toSource:function(){return this._source}};C.SyntaxError=function(J,F,I,G,H){function E(N,K){var M,L;switch(N.length){case 0:M="end of input";break;case 1:M=N[0];break;default:M=N.slice(0,N.length-1).join(", ")+" or "+N[N.length-1]}L=K?D(K):"end of input";return"Expected "+M+" but "+L+" found."}this.name="SyntaxError";this.expected=J;this.found=F;this.message=E(J,F);this.offset=I;this.line=G;this.column=H};C.SyntaxError.prototype=Error.prototype;return C})();A.parse=B.parse})(typeof exports!=="undefined"?exports:getGlobal());